@page "/product-management"

<EditForm Model="@prdInsert" OnValidSubmit="InsertProduct" action="" class="w-50 mx-auto">
    <h3>Insert Product</h3>
    <div class="form-group">
        <label for="">id</label>
        <input class="form-control" @bind="@prdInsert.id">
    </div>
    <div class="form-group">
        <label for="">name</label>
        <input class="form-control" @bind="@prdInsert.name">
    </div>
    <div class="form-group">
        <label for="">price</label>
        <input class="form-control" @bind="@prdInsert.price">
    </div>
    <div class="form-group mt-2">
        <button type="submit" class="btn btn-success">Create</button>
    </div>

</EditForm>

<DemoCallBackParam @ref="demoCallbackComponent" />

@code
{
    ProductCardVM prdInsert = new ProductCardVM();

    public DemoCallBackParam demoCallbackComponent;

    public void InsertProduct()
    {
        prdInsert.img = $"https://picsum.photos/id/{prdInsert.id}/200/200";
        // từ demoCallbackComponent gọi đến các thuộc tính và phương thức của thẻ DemoCallBackParam
        demoCallbackComponent.lstProduct.Add(prdInsert);
        demoCallbackComponent.stateHasChangedPublic();

    }
}